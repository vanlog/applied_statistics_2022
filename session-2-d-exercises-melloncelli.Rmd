---
title: "NYC Flights Exercises"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Dataset

```{r}
library(nycflights13)
library(tidyverse)
```

Here the flights table

```{r}
flights
```

## Exercise 1: 

Calculate the average arr_delay grouped by airline ('carrier'). What are the top_5 
airlines as a matter of late.

```{r}
flights %>% 
  select(carrier, arr_delay) %>% 
  left_join(airlines, by = "carrier") %>% 
  group_by(name) %>% 
  summarise(avg_delay = mean(arr_delay, na.rm=TRUE)) %>% 
  top_n(5, avg_delay)
```

## Non Availables values

```{r}
tibble(
  value = c(0, 1, NA, 3)
) %>% 
  summarise(
    avg_value = mean(value, na.rm=TRUE)
  )
```


# Exercise 2

which is the most problematic route (combination of "origin" and "dest") as a matter of arrival late.

```{r}
# try to use group_by with more than one variable
```

